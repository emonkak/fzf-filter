# fzf-filter

fzf-filter is a tiny CLI for using [fzf-native](https://github.com/nvim-telescope/telescope-fzf-native.nvim) interactively.

## Usage

This program is designed for [Luis](https://github.com/emonkak/vim-luis) that is Vim plugin. Please see its README for more details.

```
USAGE:
  fzf-filter [OPTIONS] -- <COMMAND> [COMMAND_ARGUMENTS]

OPTIONS:
  -l, --limit-items NUM       a maximum number of items to output
  -f, --field-index NUM       a field index to be matched
                              (default: whole line)
  -p, --field-partitions NUM  a maximum number of partitions of the field
  -d, --field-delimiter CHAR  a field delimiter character
                              (default: \\t)
```

## Protocol

1. Execute the `<COMMAND>` and store the execution result.
2. Wait for a pattern string from the standard input. The pattern is received from the client in the format `"{sequence} {pattern}"`. The `{sequence}` is an ID generated by the client, which will be later added to the matching results.
3. Output the lines from the execution result, which match the pattern, in the format `"{sequence} {line}"`.
4. Output "{sequence}" as EOF.
5. Go back to step 2.
